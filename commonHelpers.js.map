{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function createCard({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) {\n  return `\n    <li class=\"card\">\n      <a href=\"${largeImageURL}\" data-caption=\"${tags}\">\n        <img class=\"card-image\" src=\"${webformatURL}\" alt=\"${tags}\" title=\"${tags}\"/>\n        <ul class=\"discription-list\">\n          <li>\n            <h3 class=\"disc-name\">Likes</h3>\n            <p class=\"disc-value\">${likes}</p>\n          </li>\n          <li>\n            <h3 class=\"disc-name\">Views</h3>\n            <p class=\"disc-value\">${views}</p>\n          </li>\n          <li>\n            <h3 class=\"disc-name\">Comments</h3>\n            <p class=\"disc-value\">${comments}</p>\n          </li>\n          <li>\n            <h3 class=\"disc-name\">Downloads</h3>\n            <p class=\"disc-value\">${downloads}</p>\n          </li>\n        </ul>\n      </a>\n    </li>`;\n}\n\n","\nimport axios from 'axios'\n// const KEY = '42649910-6a5238a097d86367028b0f975';\n// const PARAM = \"image_type=photo&orientation=horizontal&safesearch=true\";\n\n\nexport async function fetchData(inputWord) {\n  const formattedInput = inputWord.split(' ').join('+');\n  \n  const instance = axios.create({\n    baseURL: 'https://pixabay.com/api/',\n    params: {\n      q: formattedInput,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',\n      per_page:'pageQuantity',\n      key: '42649910-6a5238a097d86367028b0f975'\n    }\n  });\n\n  try {\n    const response = await instance.get();\n\n    if (response.status !== 200) {\n      throw new Error(`${response.status}`);\n    }\n\n    return response.data.hits;\n  } catch (error) {\n    throw new Error(`Failed to fetch data: ${error.message}`);\n  }\n}","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\n\nimport { createCard } from './js/render-functions.js'\nimport { fetchData } from './js/pixabay-api.js';\n\nconst getForm = document.querySelector(\"form\");\nlet inputWord;\nconst getList = document.querySelector(\"ul#image-list\");\nconst loader = document.querySelector('.loader');\nconst getButtonMore = document.querySelector('.button-more');\nconst pageQuantity = 15;\nlet currentPage;\n\n\ngetForm.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n  inputWord = event.currentTarget.querySelector('input').value;\n\n  if (inputWord.trim() !== '') {\n    loader.style.display = 'block';\n    fetchData(inputWord, pageQuantity,1)\n      .then(images => {\n        if (images.length === 0) {\n          iziToast.show({\n            title: '!',\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n            color: \"#EF4040\",\n            messageColor: \"#fff\",\n            titleColor: \"#fff\",\n            position: 'topRight'\n          });\n          getList.innerHTML = '';\n          getForm.reset();\n        } else {\n          getList.innerHTML = images.map(createCard).join('');\n                     currentPage = 1;\n\n          const lightbox = new SimpleLightbox('.card a', {\n            captionsData: \"title\"\n          });\n          lightbox.refresh();\n          getForm.reset();\n        }\n      })\n      .catch(error => {\n        iziToast.show({\n          title: '!',\n          message: `Error: ${error.message}`,\n          color: \"#EF4040\",\n          messageColor: \"#fff\",\n          titleColor: \"#fff\",\n          position: 'topRight'\n        });\n      })\n      .finally(() => {\n        loader.style.display = 'none';\n      });\n  }\n});\ngetButtonMore.addEventListener('click', async (event) => { \n    currentPage = currentPage+1;\n    try {\n        const additionalImages = await fetchData(inputWord, pageQuantity, currentPage);\n        getList.innerHTML += additionalImages.map(createCard).join('');\n        \n        const lightbox = new SimpleLightbox('.card a', {\n            captionsData: \"title\"\n        });\n        lightbox.refresh();\n    } catch (error) {\n        console.error(`Error loading more images: ${error.message}`);\n    }\n});"],"names":["createCard","webformatURL","largeImageURL","tags","likes","views","comments","downloads","fetchData","inputWord","formattedInput","instance","axios","response","error","getForm","getList","loader","getButtonMore","pageQuantity","currentPage","event","images","iziToast","SimpleLightbox","additionalImages"],"mappings":"owBAAO,SAASA,EAAW,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,GAAa,CACnG,MAAO;AAAA;AAAA,iBAEQL,CAAa,mBAAmBC,CAAI;AAAA,uCACdF,CAAY,UAAUE,CAAI,YAAYA,CAAI;AAAA;AAAA;AAAA;AAAA,oCAI7CC,CAAK;AAAA;AAAA;AAAA;AAAA,oCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,oCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,oCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,UAK7C,CCnBO,eAAeC,EAAUC,EAAW,CACzC,MAAMC,EAAiBD,EAAU,MAAM,GAAG,EAAE,KAAK,GAAG,EAE9CE,EAAWC,EAAM,OAAO,CAC5B,QAAS,2BACT,OAAQ,CACN,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAS,eACT,IAAK,oCACN,CACL,CAAG,EAED,GAAI,CACF,MAAMG,EAAW,MAAMF,EAAS,MAEhC,GAAIE,EAAS,SAAW,IACtB,MAAM,IAAI,MAAM,GAAGA,EAAS,MAAM,EAAE,EAGtC,OAAOA,EAAS,KAAK,IACtB,OAAQC,EAAO,CACd,MAAM,IAAI,MAAM,yBAAyBA,EAAM,OAAO,EAAE,CACzD,CACH,CChBA,MAAMC,EAAU,SAAS,cAAc,MAAM,EAC7C,IAAIN,EACJ,MAAMO,EAAU,SAAS,cAAc,eAAe,EAChDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAgB,SAAS,cAAc,cAAc,EACrDC,EAAe,GACrB,IAAIC,EAGJL,EAAQ,iBAAiB,SAAWM,GAAU,CAC1CA,EAAM,eAAc,EACtBZ,EAAYY,EAAM,cAAc,cAAc,OAAO,EAAE,MAEnDZ,EAAU,KAAM,IAAK,KACvBQ,EAAO,MAAM,QAAU,QACvBT,EAAUC,CAAyB,EAChC,KAAKa,GAAU,CACVA,EAAO,SAAW,GACpBC,EAAS,KAAK,CACZ,MAAO,IACP,QAAS,2EACT,MAAO,UACP,aAAc,OACd,WAAY,OACZ,SAAU,UACtB,CAAW,EACDP,EAAQ,UAAY,GACpBD,EAAQ,MAAK,IAEbC,EAAQ,UAAYM,EAAO,IAAItB,CAAU,EAAE,KAAK,EAAE,EACvCoB,EAAc,EAER,IAAII,EAAe,UAAW,CAC7C,aAAc,OAC1B,CAAW,EACQ,QAAO,EAChBT,EAAQ,MAAK,EAEvB,CAAO,EACA,MAAMD,GAAS,CACdS,EAAS,KAAK,CACZ,MAAO,IACP,QAAS,UAAUT,EAAM,OAAO,GAChC,MAAO,UACP,aAAc,OACd,WAAY,OACZ,SAAU,UACpB,CAAS,CACT,CAAO,EACA,QAAQ,IAAM,CACbG,EAAO,MAAM,QAAU,MAC/B,CAAO,EAEP,CAAC,EACDC,EAAc,iBAAiB,QAAS,MAAOG,GAAU,CACrDD,EAAcA,EAAY,EAC1B,GAAI,CACA,MAAMK,EAAmB,MAAMjB,EAAUC,EAAWU,EAAcC,CAAW,EAC7EJ,EAAQ,WAAaS,EAAiB,IAAIzB,CAAU,EAAE,KAAK,EAAE,EAE5C,IAAIwB,EAAe,UAAW,CAC3C,aAAc,OAC1B,CAAS,EACQ,QAAO,CACnB,OAAQV,EAAO,CACZ,QAAQ,MAAM,8BAA8BA,EAAM,OAAO,EAAE,CAC9D,CACL,CAAC"}